<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="canonical" href="https://coyo-hm.github.io/"/><link rel="icon" href="/favicons/favicon.ico"/><link rel="apple-touch-icon" sizes="76x76" href="/favicons/logo_76x76.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/logo_32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/logo_16x16.png"/><meta name="google-site-verification" content="HzJb0HTR2Qal7mndqRpQ6uBSJbCRXpZPnh7_Cn1oOgA"/><link data-next-font="" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/73c791a592529093.css" as="style"/><link rel="stylesheet" href="/_next/static/css/73c791a592529093.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-b8f8d6679aaa5f42.js" defer=""></script><script src="/_next/static/chunks/framework-49c6cecf1f6d5795.js" defer=""></script><script src="/_next/static/chunks/main-6ce178aaef1a2169.js" defer=""></script><script src="/_next/static/chunks/pages/_app-aa7bee1ee28d4542.js" defer=""></script><script src="/_next/static/chunks/95b64a6e-055185933d9f09df.js" defer=""></script><script src="/_next/static/chunks/130-48e846218faafaf7.js" defer=""></script><script src="/_next/static/chunks/pages/post/page/%5Bpage%5D/%5Btag%5D-10400d76cc84c639.js" defer=""></script><script src="/_next/static/ksbH0b8uVkWecRl5mQ8BO/_buildManifest.js" defer=""></script><script src="/_next/static/ksbH0b8uVkWecRl5mQ8BO/_ssgManifest.js" defer=""></script></head><body><div id="__next"></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"posts":[{"frontMatter":{"date":"2024-03-19T00:00:00","title":"NextJS ì´ë¯¸ì§€ ë¡œë”© ì‹œì— Blur ì²˜ë¦¬í•˜ê¸°","tags":["nextjs","plaiceholder"],"series":["blog"],"description":"plaiceholder ì´ìš©í•´ì„œ nextjs ì´ë¯¸ì§€ ë¡œë”© ì‹œì— ì´ë¯¸ì§€ Blur ì²˜ë¦¬í•˜ê¸°","thumbnail":"https://github.com/coyo-hm/COYO-HM.github.io/assets/56423604/73748c95-2e16-4ff9-ae8d-a3bba5deb500","published":true,"path":"nextjs-image-blur.mdx","key":"nextjs-image-blur","blurThumbnail":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAABYlAAAWJQFJUiTwAAAApklEQVR4nC1OQQrCQAzcx/gkwRd48urZmz/w7hM8exN6ttD1IGypB0GsbSqF1nbVbEbSOjAJSWaGGGb+MnNQ9n0fvPcBQODPOxS3C2NEafTgnEOSJLDW4lGUeN6vWC1mmBgj281ahZVRNxEhyzJoV3bdC4f9Dsv5VM6n4ygUEY2XPM/FWitxHEsUReLSVIhI31DQkPgf0LYtmqZBXdfw3utKhiJS/QBvhbZ8aLo68wAAAABJRU5ErkJggg=="},"body":"ë¸”ë¡œê·¸ í™”ë©´ ì´ˆê¸° ì§„ì… ì‹œ ë˜ëŠ” ìƒˆë¡œê³ ì¹¨ ì‹œì— ì´ë¯¸ì§€ ë¡œë”© ì‹œì— ì¢€ ë” ë§¤ë„ëŸ¬ìš´ ì‚¬ìš©ì ê²½í—˜ì„ ìœ„í•´ Nextjs ì—ì„œ ì œê³µí•˜ëŠ” `\u003cImage/\u003e` íƒœê·¸ì˜ `placeholder`  `props`ë¥¼ í†µí•´ `blur`ë¥¼ ì ìš©í•´ì£¼ê¸°ë¡œ í•˜ì˜€ìŠµë‹ˆë‹¤.\n\n# blur ì ìš©í•˜ê¸°\n\n## ì •ì  ì´ë¯¸ì§€ì¼ ê²½ìš°\n\nì •ì  ì´ë¯¸ì§€ì¸ ê²½ìš° êµ‰ì¥íˆ ê°„ë‹¨í•©ë‹ˆë‹¤. ê·¸ëƒ¥ `placeholder`ì˜ ì˜µì…˜ì„ `blur`ë¡œ ì§€ì •í•´ ì£¼ê¸°ë§Œ í•˜ë©´, `blurDataURL`ë¥¼ ì„¤ì •í•´ ì£¼ì§€ ì•Šì•„ë„ Nextjsê°€ ìë™ìœ¼ë¡œ ìƒì„±í•´ ì¤ë‹ˆë‹¤.\n\n```jsx\nimport Image from \"next/image\";\nimport ViewSource from \"../../components/view-source\";\nimport mountains from \"../../public/mountains.jpg\";\n\nconst PlaceholderBlur = () =\u003e (\n  \u003cdiv\u003e\n    \u003cViewSource pathname=\"app/placeholder/page.tsx\" /\u003e\n    \u003ch1\u003eImage Component With Placeholder Blur\u003c/h1\u003e\n    \u003cImage\n      alt=\"Mountains\"\n      src={mountains}\n      placeholder=\"blur\"\n      width={700}\n      height={475}\n      style={{\n        maxWidth: \"100%\",\n        height: \"auto\",\n      }}\n    /\u003e\n  \u003c/div\u003e\n);\n\nexport default PlaceholderBlur;\n```\n\n[[ì¶œì²˜] nextjs examples](https://github.com/vercel/next.js/blob/canary/examples/image-component/app/placeholder/page.tsx)\n\n## ë™ì  ì´ë¯¸ì§€ì¼ ê²½ìš°\n\në‹¤ë§Œ ì €ì²˜ëŸ¼ ê²½ìš° ë¸”ë¡œê·¸ì˜ ëª¨ë“  ì´ë¯¸ì§€ë¥¼ ë™ì ìœ¼ë¡œ ê°€ì ¸ì˜¤ëŠ” ê²½ìš°ì—ëŠ” `blurDataURL` ìƒì„±í•´ì„œ ì…ë ¥í•´ ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.\n\nì§ì ‘ ìƒì„±í•´ë„ ë˜ì§€ë§Œ, ì €ì˜ ê²½ìš° Nextjs ì—ì„œ ê¶Œì¥í•˜ëŠ” `plaiceholder` ë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ ì£¼ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.\n\n### ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜\n\n`plaiceholder` ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” `plaiceholder` ë¿ë§Œ ì•„ë‹ˆë¼ ì´ë¯¸ì§€ ìµœì í™” ë¼ì´ë¸ŒëŸ¬ë¦¬ `sharp` **ë¥¼ í•¨ê»˜ ì„¤ì¹˜í•´ ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.**\n\n  ```bash\n  # npm ì‚¬ìš© ì‹œ\n  npm i sharp plaiceholder\n\n  # yarn ì‚¬ìš©ì‹œ\n  yarn add sharp plaiceholder\n  ```\n\n### ì½”ë“œ ì‘ì„±\n\në‹¤ë¥¸ ë¶€ë¶„ì—ë„ ì‰½ê²Œ ì ìš©í•˜ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì´ í•¨ìˆ˜ë¥¼ ì‘ì„±í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.\n\n```tsx\n// getBlurImg.ts\nimport { getPlaiceholder } from \"plaiceholder\";\n\nconst getBlurImg = async (imgSrc: string) =\u003e {\n  try {\n    const buffer = await fetch(imgSrc).then(async (res) =\u003e\n      Buffer.from(await res.arrayBuffer())\n    );\n    const { base64 } = await getPlaiceholder(buffer, { size: 10 });\n    return base64;\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nexport default getBlurImg;\n\n```\n\n\u003caside\u003e\n  ğŸ’¡ `getPlaiceholder`\n\n  `[options](https://plaiceholder.co/docs/usage#parameters)`ìœ¼ë¡œ `size`, `autoOrient`, `brightness`, `format,` `hue`,\n  `lightness`, `removeAlpha`, `saturation` ë“±ì„ ì§€ì •í•˜ì—¬ ì´ë¯¸ì§€ì— ë‹¤ì–‘í•œ ì„¤ì •ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c/aside\u003e\n\nì‘ì„±í•œ í•¨ìˆ˜ë¥¼ ì»´í¬ë„ŒíŠ¸ì— ì ìš©í•´ ë´…ì‹œë‹¤.\n\n(ì°¸ê³ , `index.tsx` â‡’ `Carousel.tsx` â‡’ `ActivePostCard.tsx` ìœ¼ë¡œ `post props` ì „ë‹¬)\n\n```tsx\n// index.tsx\n...\n\nexport const getStaticProps: GetStaticProps = async () =\u003e {\n  const recentPosts = await getPosts(0, 5);\n  const allTags = await getAllTags();\n  const allSeriesInfo = await getAllSeriesInfo();\n\n  const posts = await Promise.all(\n    recentPosts.map(async (post: PostType) =\u003e {\n      const blurThumbnail = await getBlurImg(post.frontMatter.thumbnail);\n      return { ...post, frontMatter: { ...post.frontMatter, blurThumbnail } };\n    })\n  );\n\n  return {\n    props: {\n      recentPosts: posts,\n      tags: allTags,\n      allSeriesInfo: allSeriesInfo,\n    },\n  };\n};\n```\n\n```tsx\n// ActivePostCard.tsx\n\n...\n\ninterface Props extends PostType {\n  currentIndex: number;\n  direction: DirectionType;\n  allSeriesInfo: SeriesAttributeTableType;\n}\n\nconst ActivePostCard = ({\n  currentIndex,\n  direction,\n  allSeriesInfo,\n  fields: { slug },\n  frontMatter: {\n    title,\n    tags,\n    date,\n    thumbnail,\n    description,\n    series,\n    blurThumbnail,\n  },\n}: Props) =\u003e {\n ...\n  return (\n    \u003cLink href={`/post/${slug}`} aria-label={`link-${slug}`}\u003e\n\t     ...\n         \u003cImage\n            src={thumbnail}\n            alt={title}\n            placeholder={\"blur\"}\n            blurDataURL={blurThumbnail}\n          /\u003e\n         ...\n    \u003c/Link\u003e\n  );\n};\n\nexport default ActivePostCard;\n\n```\n\n## ì ìš© ê²°ê³¼\n\n### ì ìš© ì „\n\n\u003cimg alt=\"before-blur\"\n     src=\"https://github.com/coyo-hm/COYO-HM.github.io/assets/56423604/00f74eb3-373f-424a-970f-703835e3c224\" /\u003e\n\n### ì ìš© í›„\n\n\n\u003cimg alt=\"after-blur\"\n     src=\"https://github.com/coyo-hm/COYO-HM.github.io/assets/56423604/a62aea31-4d56-4d7f-a924-64fd0c599be9\" /\u003e\n\nì´ë¯¸ì§€ ë¡œë”© ì‹œì— `blur` íš¨ê³¼ê°€ ì ìš©ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# ì°¸ì¡°\n\n- [[NextJS] image placeholder](https://nextjs.org/docs/pages/api-reference/components/image#placeholder)\n- [[plaiceholder] base64](https://plaiceholder.co/docs/usage#base64)","fields":{"slug":"nextjs-image-blur"},"path":"nextjs-image-blur.mdx"}],"allTags":[{"tag":"all","count":43},{"tag":"typescript","count":13},{"tag":"react","count":12},{"tag":"javascript","count":11},{"tag":"nextjs","count":7},{"tag":"network","count":7},{"tag":"git","count":5},{"tag":"computer_science","count":4},{"tag":"npm","count":3},{"tag":"vite","count":3},{"tag":"husky","count":3},{"tag":"yarn","count":2},{"tag":"emotion","count":2},{"tag":"styled_components","count":2},{"tag":"css","count":2},{"tag":"redux","count":2},{"tag":"axios","count":2},{"tag":"yarn_berry","count":1},{"tag":"giscus","count":1},{"tag":"utterances","count":1},{"tag":"semamtic_release","count":1},{"tag":"github_actions","count":1},{"tag":"reg_exp","count":1},{"tag":"redux_persist","count":1},{"tag":"python3","count":1},{"tag":"react_beautiful_dnd","count":1},{"tag":"react_hook_form","count":1},{"tag":"recoil","count":1},{"tag":"next_intl","count":1},{"tag":"plaiceholder","count":1},{"tag":"gtag","count":1},{"tag":"google_analytics","count":1},{"tag":"lodash","count":1},{"tag":"commitlint","count":1},{"tag":"githubpage","count":1},{"tag":"intellij","count":1},{"tag":"gatsby","count":1},{"tag":"framer_motion","count":1},{"tag":"tailwind","count":1},{"tag":"vanilla_extract","count":1}],"selectedTag":"plaiceholder","page":0},"__N_SSG":true},"page":"/post/page/[page]/[tag]","query":{"page":"0","tag":"plaiceholder"},"buildId":"ksbH0b8uVkWecRl5mQ8BO","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>