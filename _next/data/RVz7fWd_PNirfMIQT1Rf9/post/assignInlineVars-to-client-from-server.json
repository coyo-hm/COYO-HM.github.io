{"pageProps":{"title":"assignInlineVars 사용시에 nextjs warning 해결하기","published":true,"description":"nextjs 환경에서 vanilla-extract assignInlineVars 사용시에 `Warning: Only plain objects can be passed to Client Components from Server Components. Classes or other objects with methods are not supported.` warning 해결하기","date":"2024-08-24T00:00:00.000Z","tags":["nextjs","vanilla-extract"],"thumbnail":"https://github.com/user-attachments/assets/233542e4-436d-4a51-a052-a16605deef28","body":{"raw":"\n# ⚠️ 문제\n\n\n  <img src={\"https://github.com/user-attachments/assets/b94f9789-11fb-493f-9afb-6fba94957f17\"} alt={\"warning-plain-objects-to-client-from-server\"}/>\n\n  우선 `*Warning: Only plain objects can be passed to Client Components from Server Components.*` 오류는 서버 컴포넌트에서 클라이언트 컴포넌트에 `props`로 내려줄때 `serialize` 해주지 않아 생기는 오류이다.\n\n    <aside>\n    💡 `serialize`\n\n    간단히 말하면 객체를 다른 환경에서도 사용할 수 있게 바꾸는 것, 파싱할 수 있는 데이터(e.g. `json`)의 형태로 만드는 것\n\n    </aside>\n\n# 🔧 해결\n\n  vanilla-extract의 `assignInlineVars` 반환 값을 `json`으로 파싱해주면 해당 `warning`은 해결된다.\n\n## before\n\n  ```tsx\n  <div className={styles.groupIconStyle} style={assignInlineVars({ [styles.setGroupColor]: color})}>\n  ```\n\n## after\n\n  ```tsx\n  <div className={styles.groupIconStyle} style={JSON.parse(JSON.stringify(assignInlineVars({ [styles.setGroupColor]: color })))}>\n  ```\n\n# 참조\n\n  - https://github.com/vanilla-extract-css/vanilla-extract/issues/1246","code":"var Component=(()=>{var h=Object.create;var t=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var B=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var m=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),f=(l,e)=>{for(var a in e)t(l,a,{get:e[a],enumerable:!0})},c=(l,e,a,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of g(e))!u.call(l,r)&&r!==a&&t(l,r,{get:()=>e[r],enumerable:!(s=y(e,r))||s.enumerable});return l};var C=(l,e,a)=>(a=l!=null?h(B(l)):{},c(e||!l||!l.__esModule?t(a,\"default\",{value:l,enumerable:!0}):a,l)),x=l=>c(t({},\"__esModule\",{value:!0}),l);var i=m((b,o)=>{o.exports=_jsx_runtime});var A={};f(A,{default:()=>p,frontmatter:()=>F});var n=C(i()),F={date:\"2024-08-24\",title:\"assignInlineVars \\uC0AC\\uC6A9\\uC2DC\\uC5D0 nextjs warning \\uD574\\uACB0\\uD558\\uAE30\",tags:[\"nextjs\",\"vanilla-extract\"],series:[\"trouble_shooting\"],description:\"nextjs \\uD658\\uACBD\\uC5D0\\uC11C vanilla-extract assignInlineVars \\uC0AC\\uC6A9\\uC2DC\\uC5D0 `Warning: Only plain objects can be passed to Client Components from Server Components. Classes or other objects with methods are not supported.` warning \\uD574\\uACB0\\uD558\\uAE30\",thumbnail:\"https://github.com/user-attachments/assets/233542e4-436d-4a51-a052-a16605deef28\",published:!0};function d(l){let e={a:\"a\",code:\"code\",figure:\"figure\",h1:\"h1\",h2:\"h2\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",ul:\"ul\",...l.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h1,{children:\"\\u26A0\\uFE0F \\uBB38\\uC81C\"}),`\n`,(0,n.jsx)(\"img\",{src:\"https://github.com/user-attachments/assets/b94f9789-11fb-493f-9afb-6fba94957f17\",alt:\"warning-plain-objects-to-client-from-server\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\uC6B0\\uC120 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"plaintext\",\"data-theme\":\"one-dark-pro\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"*Warning: Only plain objects can be passed to Client Components from Server Components.*\"})})})}),\" \\uC624\\uB958\\uB294 \\uC11C\\uBC84 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0\\uC11C \\uD074\\uB77C\\uC774\\uC5B8\\uD2B8 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"plaintext\",\"data-theme\":\"one-dark-pro\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"props\"})})})}),\"\\uB85C \\uB0B4\\uB824\\uC904\\uB54C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"plaintext\",\"data-theme\":\"one-dark-pro\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"serialize\"})})})}),\" \\uD574\\uC8FC\\uC9C0 \\uC54A\\uC544 \\uC0DD\\uAE30\\uB294 \\uC624\\uB958\\uC774\\uB2E4.\"]}),`\n`,(0,n.jsxs)(\"aside\",{children:[(0,n.jsxs)(e.p,{children:[\"\\u{1F4A1} \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"plaintext\",\"data-theme\":\"one-dark-pro\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"serialize\"})})})})]}),(0,n.jsxs)(e.p,{children:[\"\\uAC04\\uB2E8\\uD788 \\uB9D0\\uD558\\uBA74 \\uAC1D\\uCCB4\\uB97C \\uB2E4\\uB978 \\uD658\\uACBD\\uC5D0\\uC11C\\uB3C4 \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC788\\uAC8C \\uBC14\\uAFB8\\uB294 \\uAC83, \\uD30C\\uC2F1\\uD560 \\uC218 \\uC788\\uB294 \\uB370\\uC774\\uD130(e.g. \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"plaintext\",\"data-theme\":\"one-dark-pro\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"json\"})})})}),\")\\uC758 \\uD615\\uD0DC\\uB85C \\uB9CC\\uB4DC\\uB294 \\uAC83\"]})]}),`\n`,(0,n.jsx)(e.h1,{children:\"\\u{1F527} \\uD574\\uACB0\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"vanilla-extract\\uC758 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"plaintext\",\"data-theme\":\"one-dark-pro\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"assignInlineVars\"})})})}),\" \\uBC18\\uD658 \\uAC12\\uC744 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"plaintext\",\"data-theme\":\"one-dark-pro\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"json\"})})})}),\"\\uC73C\\uB85C \\uD30C\\uC2F1\\uD574\\uC8FC\\uBA74 \\uD574\\uB2F9 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"plaintext\",\"data-theme\":\"one-dark-pro\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"warning\"})})})}),\"\\uC740 \\uD574\\uACB0\\uB41C\\uB2E4.\"]}),`\n`,(0,n.jsx)(e.h2,{children:\"before\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"tsx\",\"data-theme\":\"one-dark-pro\",children:(0,n.jsx)(e.code,{\"data-language\":\"tsx\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\" className\"}),(0,n.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"styles\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"groupIconStyle\"}),(0,n.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"}\"}),(0,n.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\" style\"}),(0,n.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"assignInlineVars\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"({ [\"}),(0,n.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"styles\"}),(0,n.jsx)(e.span,{style:{color:\"#E06C75\"},children:\".setGroupColor\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"]: \"}),(0,n.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"color\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"})\"}),(0,n.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"}\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]})})})}),`\n`,(0,n.jsx)(e.h2,{children:\"after\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"tsx\",\"data-theme\":\"one-dark-pro\",children:(0,n.jsx)(e.code,{\"data-language\":\"tsx\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\" className\"}),(0,n.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"styles\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"groupIconStyle\"}),(0,n.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"}\"}),(0,n.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\" style\"}),(0,n.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"JSON\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"parse\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"JSON\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"stringify\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"assignInlineVars\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"({ [\"}),(0,n.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"styles\"}),(0,n.jsx)(e.span,{style:{color:\"#E06C75\"},children:\".setGroupColor\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"]: \"}),(0,n.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"color\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" })))\"}),(0,n.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"}\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]})})})}),`\n`,(0,n.jsx)(e.h1,{children:\"\\uCC38\\uC870\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/vanilla-extract-css/vanilla-extract/issues/1246\",children:\"https://github.com/vanilla-extract-css/vanilla-extract/issues/1246\"})}),`\n`]})]})}function p(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,{...l,children:(0,n.jsx)(d,{...l})}):d(l)}return x(A);})();\n;return Component;"},"_id":"post/assignInlineVars-to-client-from-server.mdx","_raw":{"sourceFilePath":"post/assignInlineVars-to-client-from-server.mdx","sourceFileName":"assignInlineVars-to-client-from-server.mdx","sourceFileDir":"post","contentType":"mdx","flattenedPath":"post/assignInlineVars-to-client-from-server"},"type":"Post","slug":"/post/assignInlineVars-to-client-from-server","id":"assignInlineVars-to-client-from-server","series":[{"id":"trouble_shooting","title":"⚠️ Trouble Shooting Log","tags":[],"description":"프로젝트 진행 도중 나오는 문제 해결 기록","thumbnail":"https://user-images.githubusercontent.com/56423604/283492423-a261b95e-c0e1-4651-9351-83fc538db17d.png","startDate":"2023-10-09T00:00:00.000Z","endDate":"2025-05-10T00:00:00.000Z","postIds":["nextjs-large-page-data-warning","mobile-full-view-height","husky-precommit-unauthorized","error-ts2802","error-emeedauth","assignInlineVars-to-client-from-server"],"posts":[{"id":"nextjs-large-page-data-warning","slug":"/post/nextjs-large-page-data-warning","title":"NextJS Large Page Data Warning 해결하기","no":"1"},{"id":"husky-precommit-unauthorized","slug":"/post/husky-precommit-unauthorized","title":"husky not set as executable 오류","no":"2"},{"id":"error-emeedauth","slug":"/post/error-emeedauth","title":"npm publish ENEEDAUTH 오류 해결하기","no":"3"},{"id":"assignInlineVars-to-client-from-server","slug":"/post/assignInlineVars-to-client-from-server","title":"assignInlineVars 사용시에 nextjs warning 해결하기","no":"4"},{"id":"error-ts2802","slug":"/post/error-ts2802","title":"TypeScript 2802 error(downlevelIteration, target) 오류 해결하기","no":"5"}]}]},"__N_SSG":true}