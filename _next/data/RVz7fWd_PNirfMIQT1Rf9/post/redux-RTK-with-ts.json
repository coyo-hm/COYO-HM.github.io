{"pageProps":{"title":"TypeScript에서 Redux-ToolKit 사용하기","published":true,"description":"TypeScript에서 redux-toolkit 설치부터, Store 설정, UseDispatch, UseSelector, CreateSlice(build), CreateAsyncThunk 사용해보기","date":"2023-01-26T00:00:00.000Z","tags":["React","TypeScript","Redux"],"thumbnail":"https://github.com/coyo-hm/COYO-HM.github.io/assets/56423604/7233d12c-0a57-4190-9111-82c1e0ea129b","body":{"raw":"\n# 설치\n\n```bash\nnpm install @reduxjs/toolkit\n\nyarn add @reduxjs/toolkit\n```\n\n# Store\n\n```TypeScript\nimport { configureStore } from '@reduxjs/toolkit'\n\nexport const store = configureStore({\n  reducer: {},\n})\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n```\n\n`index.tsx`\n\n```TypeScript\nimport React from 'react'\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { store } from './app/store';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root');\n)\n```\n\n# `UseDispatch`, `UseSelector`\n\n```TypeScript\nimport { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport type { AppDispatch, RootState } from '../Store';\n\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n```\n\n# CreateSlice\n\n`ExampleReducer.ts`\n\n```TypeScript\ninterface IExampleState {\n\t// reducer type들 표시\n\tuserInfo: {name: string, id: string} | null\n}\n\nconst initialState: IExampleState = {\n\t// 초기 상태 설정\n\tuserInfo: null\n}\n\nexport const ExampleSlice = createSlice({\n\tname: 'EXAMPLE',\n\tinitialState,\n\treducers: {\n\t\tupdateName: (state, action) => {\n\t\t\tstate.userInfo: {\n\t\t\t\t...state.userInfo,\n\t\t\t\taction.payload\n\t\t\t}\n\t\t},\n\t},\n\textraReducers: (builder) => {\n\t\tbuilder.addcase(getUserInfoAsync.fullfilled, (state, {payload}) => {\n\t\t\tstate.userInfo = payload\n\t\t})\n\t}\n})\n\nexport const { updateName } = ExampleSlice.actions\nexport const ExampleReducer = {\n\texample: ExampleSlice.reducer\n}\n```\n\n# CreateAsyncThunk\n\n```TypeScript\nexport const getUserInfoAsync = createAsyncThunk<\n  {\n    /*성공시에 출력될 data의 type*/\n  },\n  {\n    /*param의 type*/\n  }\n>('EXAMPLE/getUserInfoAsync', async (param) => await axios.method('url', param));\n```\n\n# 참조\n\n- [Redux-ToolKit Docs](https://redux-toolkit.js.org/tutorials/quick-start)\n","code":"var Component=(()=>{var o=Object.create;var d=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var x=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),f=(a,e)=>{for(var t in e)d(a,t,{get:e[t],enumerable:!0})},l=(a,e,t,i)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of y(e))!m.call(a,r)&&r!==t&&d(a,r,{get:()=>e[r],enumerable:!(i=u(e,r))||i.enumerable});return a};var S=(a,e,t)=>(t=a!=null?o(g(a)):{},l(e||!a||!a.__esModule?d(t,\"default\",{value:a,enumerable:!0}):t,a)),k=a=>l(d({},\"__esModule\",{value:!0}),a);var c=x((b,p)=>{p.exports=_jsx_runtime});var A={};f(A,{default:()=>h,frontmatter:()=>T});var n=S(c()),T={date:\"2023-01-26\",title:\"TypeScript\\uC5D0\\uC11C Redux-ToolKit \\uC0AC\\uC6A9\\uD558\\uAE30\",tags:[\"React\",\"TypeScript\",\"Redux\"],description:\"TypeScript\\uC5D0\\uC11C redux-toolkit \\uC124\\uCE58\\uBD80\\uD130, Store \\uC124\\uC815, UseDispatch, UseSelector, CreateSlice(build), CreateAsyncThunk \\uC0AC\\uC6A9\\uD574\\uBCF4\\uAE30\",thumbnail:\"https://github.com/coyo-hm/COYO-HM.github.io/assets/56423604/7233d12c-0a57-4190-9111-82c1e0ea129b\",published:!0};function s(a){let e={a:\"a\",code:\"code\",figure:\"figure\",h1:\"h1\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",ul:\"ul\",...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h1,{children:\"\\uC124\\uCE58\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:(0,n.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"npm\"}),(0,n.jsx)(e.span,{style:{color:\"#98C379\"},children:\" install\"}),(0,n.jsx)(e.span,{style:{color:\"#98C379\"},children:\" @reduxjs/toolkit\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"yarn\"}),(0,n.jsx)(e.span,{style:{color:\"#98C379\"},children:\" add\"}),(0,n.jsx)(e.span,{style:{color:\"#98C379\"},children:\" @reduxjs/toolkit\"})]})]})})}),`\n`,(0,n.jsx)(e.h1,{children:\"Store\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"TypeScript\",\"data-theme\":\"one-dark-pro\",children:(0,n.jsxs)(e.code,{\"data-language\":\"TypeScript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"import { configureStore } from '@reduxjs/toolkit'\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"export const store = configureStore({\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"  reducer: {},\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"})\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"export type RootState = ReturnType<typeof store.getState>;\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"export type AppDispatch = typeof store.dispatch;\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"plaintext\",\"data-theme\":\"one-dark-pro\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"index.tsx\"})})})})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"TypeScript\",\"data-theme\":\"one-dark-pro\",children:(0,n.jsxs)(e.code,{\"data-language\":\"TypeScript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"import React from 'react'\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"import ReactDOM from 'react-dom';\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"import './index.css';\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"import App from './App';\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"import { store } from './app/store';\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"import { Provider } from 'react-redux';\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"ReactDOM.render(\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"  <Provider store={store}>\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"    <App />\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"  </Provider>,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"  document.getElementById('root');\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\")\"})})]})})}),`\n`,(0,n.jsxs)(e.h1,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"plaintext\",\"data-theme\":\"one-dark-pro\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"UseDispatch\"})})})}),\", \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"plaintext\",\"data-theme\":\"one-dark-pro\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"UseSelector\"})})})})]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"TypeScript\",\"data-theme\":\"one-dark-pro\",children:(0,n.jsxs)(e.code,{\"data-language\":\"TypeScript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"import type { AppDispatch, RootState } from '../Store';\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"export const useAppDispatch = () => useDispatch<AppDispatch>();\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"export const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\"})})]})})}),`\n`,(0,n.jsx)(e.h1,{children:\"CreateSlice\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"plaintext\",\"data-theme\":\"one-dark-pro\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"ExampleReducer.ts\"})})})})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"TypeScript\",\"data-theme\":\"one-dark-pro\",children:(0,n.jsxs)(e.code,{\"data-language\":\"TypeScript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"interface IExampleState {\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"\t// reducer type\\uB4E4 \\uD45C\\uC2DC\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"\tuserInfo: {name: string, id: string} | null\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"const initialState: IExampleState = {\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"\t// \\uCD08\\uAE30 \\uC0C1\\uD0DC \\uC124\\uC815\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"\tuserInfo: null\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"export const ExampleSlice = createSlice({\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"\tname: 'EXAMPLE',\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"\tinitialState,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"\treducers: {\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"\t\tupdateName: (state, action) => {\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"\t\t\tstate.userInfo: {\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"\t\t\t\t...state.userInfo,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"\t\t\t\taction.payload\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"\t\t\t}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"\t\t},\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"\t},\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"\textraReducers: (builder) => {\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"\t\tbuilder.addcase(getUserInfoAsync.fullfilled, (state, {payload}) => {\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"\t\t\tstate.userInfo = payload\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"\t\t})\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"\t}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"})\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"export const { updateName } = ExampleSlice.actions\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"export const ExampleReducer = {\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"\texample: ExampleSlice.reducer\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.h1,{children:\"CreateAsyncThunk\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"TypeScript\",\"data-theme\":\"one-dark-pro\",children:(0,n.jsxs)(e.code,{\"data-language\":\"TypeScript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"export const getUserInfoAsync = createAsyncThunk<\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"  {\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"    /*\\uC131\\uACF5\\uC2DC\\uC5D0 \\uCD9C\\uB825\\uB420 data\\uC758 type*/\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"  },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"  {\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"    /*param\\uC758 type*/\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\">('EXAMPLE/getUserInfoAsync', async (param) => await axios.method('url', param));\"})})]})})}),`\n`,(0,n.jsx)(e.h1,{children:\"\\uCC38\\uC870\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://redux-toolkit.js.org/tutorials/quick-start\",children:\"Redux-ToolKit Docs\"})}),`\n`]})]})}function h(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(s,{...a})}):s(a)}return k(A);})();\n;return Component;"},"_id":"post/redux-RTK-with-ts.mdx","_raw":{"sourceFilePath":"post/redux-RTK-with-ts.mdx","sourceFileName":"redux-RTK-with-ts.mdx","sourceFileDir":"post","contentType":"mdx","flattenedPath":"post/redux-RTK-with-ts"},"type":"Post","slug":"/post/redux-RTK-with-ts","id":"redux-RTK-with-ts","series":[]},"__N_SSG":true}