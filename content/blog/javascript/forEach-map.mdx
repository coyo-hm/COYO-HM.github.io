---
date: "2022-09-05"
title: "JavaScript map과 forEach 비교"
tags: ["JavaScript"]
description: "JavaScript map과 forEach 비교하기"
published: true
# thumbnail: './add_table_of_contents_in_post.png'
---

# **Array.prototype.forEach**

---

> `forEach()`
> for문을 대체할 수 있는 함수로 `forEach` method는 자신의 내부에서 반복문을 실행한다.
> 내부에서 반복문을 통해 자신을 호출한 배열을 순회하면서 수행해야할 처리를 콜백 함수로 전달받아 반복 호출한다.

- `forEach` method는 원본 배열을 변경하지 않는다.
- `forEach` method의 반환값은 언제나 `undefined`이다.

```jsx
const num = [1, 2, 3];
const result = [];

num.forEach((n) => result.push(n + 10));

console.log(result); // output: [11, 12, 13]
```

# **Array.prototype.map**

---

> `map()`
> 자신을 호출한 배열의 모든 요소를 순회하면서 인수로 전달받은 콜백 함수를 반복 호출한다.
> 그리고 콜백 함수의 반환값들로 구성된 <span className="yellow">새로운 배열을 반환</span>한다.

- `map` method는 원본 배열을 변경하지 않는다. 단, `callback` 함수에 의해서 변형될 수는 있다.

  ```jsx
  var kvArray = [
    { key: 1, value: 10 },
    { key: 2, value: 20 },
    { key: 3, value: 30 },
  ];

  var reformattedArray = kvArray.map(function (obj) {
    var rObj = {};
    rObj[obj.key] = obj.value;
    return rObj;
  });
  // reformattedArray는 [{1:10}, {2:20}, {3:30}]

  // kvArray는 그대로
  // [{key:1, value:10},
  //  {key:2, value:20},
  //  {key:3, value: 30}]
  ```

- `map` method에서는 원본 배열의 원소와 일대일 mapping이 진행되기 때문에 원본 배열과 mapping 후 배열의 길이는 항상 같다.
- `map`은 `callback` 함수를 각각의 요소에 대해 한번씩 순서대로 불러 그 함수의 반환값으로 새로운 배열을 만든다. 
  `callback`함수는 (`undefined`도 포함해서) 배열 값이 들어있는 인덱스에 대해서만 호출된다.
  즉, 값이 삭제되거나 아직 값이 할당/정의되지 않은 인덱스에 대해서는 호출되지 않는다.
- String에도 사용 가능
  ```jsx
  var map = Array.prototype.map;
  var a = map.call("Hello World", function (x) {
    return x.charCodeAt(0);
  });
  // a는 이제 [72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100]
  ```

# 참조

- [MDN Array.prototype.map()](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Array/map)
- [MDN Array.prototype.forEach()](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach)
